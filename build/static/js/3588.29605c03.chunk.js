"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[3588],{6679:(e,n,s)=>{s.r(n),s.d(n,{default:()=>T});var t=s(5874),i=s(7492),a=s(9973),r=s(8584),l=s(6870),o=s(5371),d=s(3533),c=s(5527),m=s(9883),x=s(6236),h=s(9301),u=s(7639),p=s(1872),f=s(3560),j=s(2107),v=s(8846),N=s(9081),b=s(216),E=s(3994),g=s(9488),y=s(5043),S=s(4960),C=s(3216),k=s(5475),_=s(9621),z=s(9201),A=s(2151),w=s(7575),I=s(7467),P=s(8460),W=s(1054),D=s(5421),$=s(5071),B=s(2703),R=s(7516),F=s(6668),O=s(5699),M=s(5973),H=s(9244),L=s(6529),X=s(3516),Y=s(2145),U=s(6092),q=s(579);const J=e=>{const{onClose:n,isOpen:s,fetchData:t}=e,i=(0,X.Wx)({initialValues:{firstName:"",lastName:"",username:"",phoneNumber:""},validationSchema:U.vJ,onSubmit:(e,n)=>{let{resetForm:s}=n;j(),s()}}),{errors:a,touched:r,values:l,handleBlur:o,handleChange:m,handleSubmit:x,setFieldValue:u}=i,[p,f]=(0,y.useState)(!1),j=async()=>{try{f(!0);let s=await(0,_.yP)(`api/user/edit/${v.id}`,l);var n;if(s&&200===s.status)e.onClose(),t();else Y.oR.error(null===(n=s.response.data)||void 0===n?void 0:n.message)}catch(s){console.log(s)}finally{f(!1)}},v=(0,C.g)();return(0,y.useEffect)((()=>{(async()=>{var e,n,s,t;let i=await(0,_.x4)("api/user/view/",v.id);u("firstName",null===(e=i.data)||void 0===e?void 0:e.firstName),u("lastName",null===(n=i.data)||void 0===n?void 0:n.lastName),u("username",null===(s=i.data)||void 0===s?void 0:s.username),u("phoneNumber",null===(t=i.data)||void 0===t?void 0:t.phoneNumber)})()}),[e]),(0,q.jsxs)(P.aF,{isOpen:s,isCentered:!0,children:[(0,q.jsx)(W.m,{}),(0,q.jsxs)(D.$,{children:[(0,q.jsxs)($.r,{justifyContent:"space-between",display:"flex",children:["Edit User",(0,q.jsx)(B.K,{onClick:()=>n(!1),icon:(0,q.jsx)(w.U,{})})]}),(0,q.jsx)(R.c,{children:(0,q.jsxs)(d.x,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,q.jsxs)(c.E,{colSpan:{base:12},children:[(0,q.jsx)(F.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"First Name"}),(0,q.jsx)(O.p,{fontSize:"sm",onChange:m,onBlur:o,value:l.firstName,name:"firstName",placeholder:"firstName",fontWeight:"500",borderColor:a.firstName&&r.firstName?"red.300":null}),(0,q.jsxs)(N.E,{mb:"10px",color:"red",children:[" ",a.firstName&&r.firstName&&a.firstName]})]}),(0,q.jsxs)(c.E,{colSpan:{base:12},children:[(0,q.jsx)(F.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Last Name"}),(0,q.jsx)(O.p,{fontSize:"sm",onChange:m,onBlur:o,value:l.lastName,name:"lastName",placeholder:"Last Name",fontWeight:"500",borderColor:a.lastName&&r.lastName?"red.300":null}),(0,q.jsxs)(N.E,{mb:"10px",color:"red",children:[" ",a.lastName&&r.lastName&&a.lastName]})]}),(0,q.jsxs)(c.E,{colSpan:{base:12},children:[(0,q.jsx)(F.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Email"}),(0,q.jsx)(O.p,{fontSize:"sm",type:"email",onChange:m,onBlur:o,value:l.username,name:"username",placeholder:"Email Address",fontWeight:"500",borderColor:a.username&&r.username?"red.300":null}),(0,q.jsxs)(N.E,{mb:"10px",color:"red",children:[" ",a.username&&r.username&&a.username]})]}),(0,q.jsxs)(c.E,{colSpan:{base:12},children:[(0,q.jsxs)(F.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Phone Number",(0,q.jsx)(N.E,{color:"red",children:"*"})]}),(0,q.jsxs)(M.M,{children:[(0,q.jsx)(H.W,{pointerEvents:"none",children:(0,q.jsx)(I.E,{color:"gray.300",borderRadius:"16px"})}),(0,q.jsx)(O.p,{type:"tel",fontSize:"sm",onChange:m,onBlur:o,value:l.phoneNumber,name:"phoneNumber",fontWeight:"500",borderColor:a.phoneNumber&&r.phoneNumber?"red.300":null,placeholder:"Phone number",borderRadius:"16px"})]}),(0,q.jsx)(N.E,{mb:"10px",color:"red",children:a.phoneNumber&&r.phoneNumber&&a.phoneNumber})]})]})}),(0,q.jsxs)(L.j,{children:[(0,q.jsx)(h.$,{variant:"brand",disabled:!!p,onClick:x,children:p?(0,q.jsx)(g.A,{}):"Update Data"}),(0,q.jsx)(h.$,{onClick:()=>n(!1),children:"close"})]})]})]})},T=()=>{var e,n;const s=(0,C.g)(),[w,I]=(0,y.useState)(),{isOpen:P,onOpen:W,onClose:D}=(0,l.j)(),[$,B]=(0,y.useState)(!1),[R,F]=(0,y.useState)(!1),[O,M]=(0,y.useState)(!1);return(0,y.useEffect)((()=>{(async()=>{M(!0);let e=await(0,_.x4)("api/user/view/",s.id);I(e.data),M(!1)})()}),[$]),(0,q.jsx)(q.Fragment,{children:O?(0,q.jsx)(o.s,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,q.jsx)(g.A,{})}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(z.A,{isOpen:P,size:"lg",onClose:D}),(0,q.jsx)(J,{isOpen:$,size:"lg",onClose:B}),(0,q.jsx)(A.A,{isOpen:R,onClose:F,method:"one",url:"api/user/delete/",id:s.id}),(0,q.jsx)(d.x,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,q.jsx)(c.E,{colStart:6,children:(0,q.jsxs)(o.s,{justifyContent:"right",children:[(0,q.jsxs)(m.W,{children:[(0,q.jsx)(x.I,{variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:h.$,rightIcon:(0,q.jsx)(t.D,{}),children:"Actions"}),(0,q.jsx)(u.N,{}),(0,q.jsxs)(p.c,{children:[(0,q.jsx)(f.D,{onClick:()=>W(),icon:(0,q.jsx)(i.R,{}),children:"Add"}),(0,q.jsx)(f.D,{onClick:()=>B(!0),icon:(0,q.jsx)(a.q,{}),children:"Edit"}),"admin"!==(null===w||void 0===w?void 0:w.role)&&"admin"===(null===(e=JSON.parse(localStorage.getItem("user")))||void 0===e?void 0:e.role)&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(u.N,{}),(0,q.jsx)(f.D,{onClick:()=>F(!0),icon:(0,q.jsx)(r.d,{}),children:"Delete"})]})]})]}),(0,q.jsx)(k.N_,{to:"/admin/user",children:(0,q.jsx)(h.$,{leftIcon:(0,q.jsx)(S.m6W,{}),variant:"brand",children:"Back"})})]})})}),(0,q.jsx)(d.x,{templateColumns:"repeat(4, 1fr)",gap:3,children:(0,q.jsx)(c.E,{colSpan:{base:4},children:(0,q.jsx)(b.A,{children:(0,q.jsxs)(d.x,{templateColumns:{base:"1fr"},gap:4,children:[(0,q.jsx)(c.E,{colSpan:2,children:(0,q.jsxs)(j.a,{children:[(0,q.jsxs)(v.D,{size:"md",mb:3,textTransform:"capitalize",children:[null!==w&&void 0!==w&&w.firstName||null!==w&&void 0!==w&&w.lastName?`${null===w||void 0===w?void 0:w.firstName} ${null===w||void 0===w?void 0:w.lastName}`:"User"," Information"]}),(0,q.jsx)(E.E,{})]})}),(0,q.jsxs)(d.x,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,q.jsxs)(c.E,{colSpan:{base:2,md:1},children:[(0,q.jsx)(N.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" First Name "}),(0,q.jsx)(N.E,{children:null!==w&&void 0!==w&&w.firstName?null===w||void 0===w?void 0:w.firstName:" - "})]}),(0,q.jsxs)(c.E,{colSpan:{base:2,md:1},children:[(0,q.jsx)(N.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Last Name "}),(0,q.jsx)(N.E,{children:null!==w&&void 0!==w&&w.lastName?null===w||void 0===w?void 0:w.lastName:" - "})]}),(0,q.jsxs)(c.E,{colSpan:{base:2,md:1},children:[(0,q.jsx)(N.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Phone Number"}),(0,q.jsx)(N.E,{children:null!==w&&void 0!==w&&w.phoneNumber?null===w||void 0===w?void 0:w.phoneNumber:" - "})]}),(0,q.jsxs)(c.E,{colSpan:{base:2,md:1},children:[(0,q.jsx)(N.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" User Email "}),(0,q.jsx)(N.E,{children:null!==w&&void 0!==w&&w.username?null===w||void 0===w?void 0:w.username:" - "})]}),(0,q.jsxs)(c.E,{colSpan:{base:2,md:1},children:[(0,q.jsx)(N.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Role "}),(0,q.jsx)(N.E,{children:null!==w&&void 0!==w&&w.role?null===w||void 0===w?void 0:w.role:" - "})]})]})]})})})}),(0,q.jsx)(b.A,{mt:3,children:(0,q.jsx)(d.x,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,q.jsx)(c.E,{colStart:6,children:(0,q.jsxs)(o.s,{justifyContent:"right",children:[(0,q.jsx)(h.$,{onClick:()=>B(!0),leftIcon:(0,q.jsx)(a.q,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),"admin"!==(null===w||void 0===w?void 0:w.role)&&"admin"===(null===(n=JSON.parse(localStorage.getItem("user")))||void 0===n?void 0:n.role)&&(0,q.jsx)(h.$,{style:{background:"red.800"},onClick:()=>F(!0),leftIcon:(0,q.jsx)(r.d,{}),colorScheme:"red",children:"Delete"})]})})})})]})})}},5874:(e,n,s)=>{s.d(n,{D:()=>t});const t=(0,s(4010).w)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},9973:(e,n,s)=>{s.d(n,{q:()=>i});var t=s(579);const i=(0,s(4010).w)({displayName:"EditIcon",path:(0,t.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})},7639:(e,n,s)=>{s.d(n,{N:()=>l});var t=s(579),i=s(4765),a=s(9883),r=s(5334);const l=e=>{const{className:n,...s}=e,l=(0,a.$)();return(0,t.jsx)(r.B.hr,{"aria-orientation":"horizontal",className:(0,i.cx)("chakra-menu__divider",n),...s,__css:l.divider})};l.displayName="MenuDivider"},5421:(e,n,s)=>{s.d(n,{$:()=>N});var t=s(579),i=s(3130),a=s(4765),r=s(8460),l=s(7436),o=s(5206),d=s(5043),c=s(1195),m=s(2615);const x={initial:"initial",animate:"enter",exit:"exit",variants:{initial:e=>{let{offsetX:n,offsetY:s,transition:t,transitionEnd:i,delay:a}=e;return{opacity:0,x:n,y:s,transition:t?.exit??m.yA.exit(m.jd.exit,a),transitionEnd:i?.exit}},enter:e=>{let{transition:n,transitionEnd:s,delay:t}=e;return{opacity:1,x:0,y:0,transition:n?.enter??m.yA.enter(m.jd.enter,t),transitionEnd:s?.enter}},exit:e=>{let{offsetY:n,offsetX:s,transition:t,transitionEnd:i,reverse:a,delay:r}=e;const l={x:s,y:n};return{opacity:0,transition:t?.exit??m.yA.exit(m.jd.exit,r),...a?{...l,transitionEnd:i?.exit}:{transitionEnd:{...l,...i?.exit}}}}}};(0,d.forwardRef)((function(e,n){const{unmountOnExit:s,in:i,reverse:r=!0,className:l,offsetX:d=0,offsetY:m=8,transition:h,transitionEnd:u,delay:p,animatePresenceProps:f,...j}=e,v=!s||i&&s,N=i||s?"enter":"exit",b={offsetX:d,offsetY:m,reverse:r,transition:h,transitionEnd:u,delay:p};return(0,t.jsx)(c.N,{...f,custom:b,children:v&&(0,t.jsx)(o.P.div,{ref:n,className:(0,a.cx)("chakra-offset-slide",l),custom:b,...x,animate:N,...j})})})).displayName="SlideFade";const h={initial:"exit",animate:"enter",exit:"exit",variants:{exit:e=>{let{reverse:n,initialScale:s,transition:t,transitionEnd:i,delay:a}=e;return{opacity:0,...n?{scale:s,transitionEnd:i?.exit}:{transitionEnd:{scale:s,...i?.exit}},transition:t?.exit??m.yA.exit(m.jd.exit,a)}},enter:e=>{let{transitionEnd:n,transition:s,delay:t}=e;return{opacity:1,scale:1,transition:s?.enter??m.yA.enter(m.jd.enter,t),transitionEnd:n?.enter}}}};(0,d.forwardRef)((function(e,n){const{unmountOnExit:s,in:i,reverse:r=!0,initialScale:l=.95,className:d,transition:m,transitionEnd:x,delay:u,animatePresenceProps:p,...f}=e,j=!s||i&&s,v=i||s?"enter":"exit",N={initialScale:l,reverse:r,transition:m,transitionEnd:x,delay:u};return(0,t.jsx)(c.N,{...p,custom:N,children:j&&(0,t.jsx)(o.P.div,{ref:n,className:(0,a.cx)("chakra-offset-slide",d),...h,animate:v,custom:N,...f})})})).displayName="ScaleFade";var u=s(5334);const p={slideInBottom:{...x,custom:{offsetY:16,reverse:!0}},slideInRight:{...x,custom:{offsetX:16,reverse:!0}},slideInTop:{...x,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...x,custom:{offsetX:-16,reverse:!0}},scale:{...h,custom:{initialScale:.95,reverse:!0}},none:{}},f=(0,u.B)(o.P.section),j=e=>p[e||"none"],v=(0,d.forwardRef)(((e,n)=>{const{preset:s,motionProps:i=j(s),...a}=e;return(0,t.jsx)(f,{ref:n,...i,...a})}));v.displayName="ModalTransition";const N=(0,s(5003).R)(((e,n)=>{const{className:s,children:o,containerProps:d,motionProps:c,...m}=e,{getDialogProps:x,getDialogContainerProps:h}=(0,r.k3)(),p=x(m,n),f=h(d),j=(0,a.cx)("chakra-modal__content",s),N=(0,r.x5)(),b=(0,i.H2)({display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...N.dialog}),E=(0,i.H2)({display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...N.dialogContainer}),{motionPreset:g}=(0,r.k3)();return(0,t.jsx)(l.u,{children:(0,t.jsx)(u.B.div,{...f,className:"chakra-modal__content-container",tabIndex:-1,__css:E,children:(0,t.jsx)(v,{preset:g,motionProps:c,className:j,...p,__css:b,children:o})})})}));N.displayName="ModalContent"},6529:(e,n,s)=>{s.d(n,{j:()=>d});var t=s(579),i=s(3130),a=s(4765),r=s(8460),l=s(5003),o=s(5334);const d=(0,l.R)(((e,n)=>{const{className:s,...l}=e,d=(0,a.cx)("chakra-modal__footer",s),c=(0,r.x5)(),m=(0,i.H2)({display:"flex",alignItems:"center",justifyContent:"flex-end",...c.footer});return(0,t.jsx)(o.B.footer,{ref:n,...l,__css:m,className:d})}));d.displayName="ModalFooter"},5071:(e,n,s)=>{s.d(n,{r:()=>c});var t=s(579),i=s(3130),a=s(4765),r=s(5043),l=s(8460),o=s(5003),d=s(5334);const c=(0,o.R)(((e,n)=>{const{className:s,...o}=e,{headerId:c,setHeaderMounted:m}=(0,l.k3)();(0,r.useEffect)((()=>(m(!0),()=>m(!1))),[m]);const x=(0,a.cx)("chakra-modal__header",s),h=(0,l.x5)(),u=(0,i.H2)({flex:0,...h.header});return(0,t.jsx)(d.B.header,{ref:n,className:x,id:c,...o,__css:u})}));c.displayName="ModalHeader"}}]);
//# sourceMappingURL=3588.29605c03.chunk.js.map