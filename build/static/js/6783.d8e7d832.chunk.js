"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[6783],{216:(e,r,a)=>{a.d(r,{A:()=>l});var i=a(5158),n=a(2107),t=a(579);const l=function(e){const{variant:r,children:a,...l}=e,o=(0,i.V)("Card",{variant:r});return(0,t.jsx)(n.a,{__css:o,height:"100%",...l,children:a})}},6914:(e,r,a)=>{a.d(r,{A:()=>t});var i=a(5043),n=a(579);const t=function(e){let{targetNumber:r}=e;const[a,t]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=setInterval((()=>{a<r&&t((e=>e+1))}),r>500?0:20);return()=>{clearInterval(e)}}),[a,r]),(0,n.jsx)("span",{children:"number"===typeof r?a:r})}},100:(e,r,a)=>{a.d(r,{A:()=>j});var i=a(4167),n=a(4261),t=a(3856),l=a(9938),o=a(5371),s=a(1221),d=a(2703),c=a(9081),u=a(4860),m=a(1724),p=a(5043),h=a(579);const j=e=>{const{gotoPage:r,gopageValue:a,setGopageValue:j,pageCount:x,canPreviousPage:v,previousPage:g,canNextPage:f,pageOptions:b,setPageSize:S,nextPage:Y,pageSize:y,pageIndex:C}=e;return(0,p.useEffect)((()=>{j(1)}),[]),(0,h.jsxs)(o.s,{justifyContent:"space-between",mt:2,alignItems:"center",children:[1!==(null===b||void 0===b?void 0:b.length)&&(0,h.jsxs)(o.s,{children:[(0,h.jsx)(s.m,{label:"First Page",children:(0,h.jsx)(d.K,{onClick:()=>{r(0),j(1)},isDisabled:!v,icon:(0,h.jsx)(i.A,{h:3,w:3}),mr:4})}),(0,h.jsx)(s.m,{label:"Previous Page",children:(0,h.jsx)(d.K,{onClick:()=>{g(),j((e=>e-1))},isDisabled:!v,icon:(0,h.jsx)(n.Y,{h:6,w:6})})})]}),(0,h.jsxs)(o.s,{alignItems:"center",children:[1!==(null===b||void 0===b?void 0:b.length)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.E,{flexShrink:"0",mr:8,children:["Page"," ",(0,h.jsx)(c.E,{fontWeight:"bold",as:"span",children:C+1})," ","of"," ",(0,h.jsx)(c.E,{fontWeight:"bold",as:"span",children:null===b||void 0===b?void 0:b.length})]}),(0,h.jsx)(c.E,{flexShrink:"0",children:"Go to page:"})," ",(0,h.jsxs)(u.Q7,{ml:2,mr:8,w:28,min:1,max:null===b||void 0===b?void 0:b.length,value:a,onChange:e=>{r(e?e-1:0),j(e)},defaultValue:C+1,children:[(0,h.jsx)(u.OO,{}),(0,h.jsxs)(u.lw,{children:[(0,h.jsx)(u.Q0,{}),(0,h.jsx)(u.Sh,{})]})]})]}),(0,h.jsx)(m.l,{w:32,value:y,onChange:e=>{S(Number(e.target.value))},children:[5,10,20,30,40,50].map((e=>(0,h.jsxs)("option",{value:e,children:["Show ",e]},e)))})]}),1!==(null===b||void 0===b?void 0:b.length)&&(0,h.jsxs)(o.s,{children:[(0,h.jsx)(s.m,{label:"Next Page",children:(0,h.jsx)(d.K,{onClick:()=>{Y(),j((e=>e+1))},isDisabled:!f,icon:(0,h.jsx)(t.v,{h:6,w:6})})}),(0,h.jsx)(s.m,{label:"Last Page",children:(0,h.jsx)(d.K,{onClick:()=>{r(x-1),j(x)},isDisabled:!f,icon:(0,h.jsx)(l.f,{h:3,w:3}),ml:4})})]})]})}},9488:(e,r,a)=>{a.d(r,{A:()=>n});var i=a(579);const n=()=>(0,i.jsx)("div",{className:"loader"})},6092:(e,r,a)=>{a.d(r,{pq:()=>j,pj:()=>h,yo:()=>n,L8:()=>u,y4:()=>c,aq:()=>o,X5:()=>d,Ar:()=>m,jq:()=>l,qU:()=>p,vJ:()=>s});var i=a(899);const n=i.Ik({firstName:i.Yj().min(2).required("First Name is required"),lastName:i.Yj().min(2).required("Last Name is required"),title:i.Yj().required("Title is required"),email:i.Yj().email().required("Email is required"),phoneNumber:i.ai().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Phonenumber is Required"),mobileNumber:i.ai().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").notRequired(),physicalAddress:i.Yj().required("Physical address is required"),mailingAddress:i.Yj(),preferredContactMethod:i.Yj().required("Preferred contact method is required"),leadSource:i.Yj(),referralSource:i.Yj(),campaignSource:i.Yj(),leadStatus:i.Yj(),leadRating:i.ai(),leadConversionProbability:i.Yj(),emailHistory:i.Yj(),phoneCallHistory:i.Yj(),meetingHistory:i.Yj(),notesandComments:i.Yj(),tagsOrLabelsForcategorizingcontacts:i.Yj(),birthday:i.p6(),anniversary:i.p6(),keyMilestones:i.Yj(),dob:i.Yj(),gender:i.Yj(),occupation:i.Yj(),interestsOrHobbies:i.Yj(),communicationFrequency:i.Yj(),preferences:i.Yj(),linkedInProfile:i.Yj(),facebookProfile:i.Yj(),twitterHandle:i.Yj(),otherProfiles:i.Yj(),agentOrTeamMember:i.Yj(),internalNotesOrComments:i.Yj(),createBy:i.Yj()}),t=(new Date).getFullYear(),l=i.Ik({propertyType:i.Yj().required("Property Type Is required"),propertyAddress:i.Yj().required("Property Address Is required"),listingPrice:i.Yj().required("Listing Price Is required"),squareFootage:i.Yj().required("Square Footage Is required"),numberofBedrooms:i.ai().required("Number Of Bedrooms Is required"),numberofBathrooms:i.ai().required("Number Of Bathrooms Is required"),yearBuilt:i.ai().min(1e3).max(t).required("Year Built Is required"),propertyDescription:i.Yj().required("Property Description Is required"),lotSize:i.Yj(),parkingAvailability:i.Yj(),appliancesIncluded:i.Yj(),heatingAndCoolingSystems:i.Yj(),flooringType:i.Yj(),exteriorFeatures:i.Yj(),communityAmenities:i.Yj(),propertyPhotos:i.Yj(),virtualToursOrVideos:i.Yj(),floorPlans:i.Yj(),propertyDocuments:i.Yj(),listingStatus:i.Yj(),listingAgentOrTeam:i.Yj(),listingDate:i.Yj(),marketingDescription:i.Yj(),multipleListingService:i.Yj(),previousOwners:i.ai().min(0),purchaseHistory:i.Yj(),propertyTaxes:i.Yj(),homeownersAssociation:i.Yj(),mortgageInformation:i.Yj(),sellers:i.Yj(),buyers:i.Yj(),propertyManagers:i.Yj(),contractorsOrServiceProviders:i.Yj(),internalNotesOrComments:i.Yj()}),o=i.Ik({leadName:i.Yj().required("Lead Name Is required"),leadEmail:i.Yj().email().required("Lead Email Is required"),leadPhoneNumber:i.Yj().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Lead Phone Number Is required"),leadAddress:i.Yj().required("Lead Address Is required"),leadSource:i.Yj(),leadStatus:i.Yj(),leadSourceDetails:i.Yj(),leadCampaign:i.Yj(),leadSourceChannel:i.Yj(),leadSourceMedium:i.Yj(),leadSourceCampaign:i.Yj(),leadSourceReferral:i.Yj(),leadAssignedAgent:i.Yj(),leadOwner:i.Yj(),leadCommunicationPreferences:i.Yj(),leadCreationDate:i.p6().required("Lead Creation Date Is required"),leadConversionDate:i.p6().required("Lead Conversion Date Is required"),leadFollowUpDate:i.p6().required("lead Follow Up Date  Is required"),leadFollowUpStatus:i.Yj(),leadScore:i.ai().required("Lead Score Is required"),leadNurturingWorkflow:i.Yj(),leadEngagementLevel:i.Yj(),leadConversionRate:i.ai().required("lead Conversion Rate Is required"),leadNurturingStage:i.Yj(),leadNextAction:i.Yj()}),s=i.Ik({firstName:i.Yj().required("First Name Is required"),lastName:i.Yj(),phoneNumber:i.Yj().required("Phone Number Is required").matches(/^\d{10}$/,"Phone Number must be exactly 10 digits"),username:i.Yj().email().required("Email Is required")}),d=i.Ik({username:i.Yj().email().required("Email Is required"),password:i.Yj().required("Password Is required")}),c=i.Ik({sender:i.Yj().required("Sender Is required"),recipient:i.Yj().email().required("Recipient Is required"),cc:i.Yj().email(),bcc:i.Yj().email(),relatedToContact:i.Yj(),relatedToLead:i.Yj(),subject:i.Yj(),message:i.Yj(),createBy:i.Yj(),createByLead:i.Yj()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),u=i.Ik().shape({folderName:i.Yj().required("Folder Name is required"),filename:i.Yj().min(2,"File Name Must Be At Least 2 Characters"),createBy:i.Yj().required()}),m=i.Ik({sender:i.Yj().required("Sender Is required"),recipient:i.ai().required("Recipient Is required"),callDuration:i.Yj(),callNotes:i.Yj(),createBy:i.Yj(),createByLead:i.Yj(),category:i.Yj()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),p=i.Ik({sender:i.Yj().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Sender Is required"),to:i.Yj().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("To Is required"),message:i.Yj(),createFor:i.Yj().required("Create By Is required")}),h=i.Ik({title:i.Yj().required("Title Is required"),category:i.Yj(),description:i.Yj(),notes:i.Yj(),reminder:i.Yj(),start:i.Yj().required("Start Is required"),end:i.Yj(),backgroundColor:i.Yj(),borderColor:i.Yj(),textColor:i.Yj(),display:i.Yj(),url:i.Yj(),createBy:i.Yj()}),j=i.Ik({agenda:i.Yj().required("Agenda Is required"),attendes:i.YO().of(i.Yj().trim()),attendesLead:i.YO().of(i.Yj().trim()),location:i.Yj(),related:i.Yj(),dateTime:i.Yj().required("Date Time Is required"),notes:i.Yj(),createFor:i.Yj(),createdBy:i.Yj()})},6:(e,r,a)=>{a.d(r,{A:()=>C});var i=a(8460),n=a(1054),t=a(5421),l=a(5071),o=a(5929),s=a(7516),d=a(3533),c=a(5527),u=a(6668),m=a(9081),p=a(5699),h=a(9077),j=a(6529),x=a(9301),v=a(9488),g=a(3516),f=a(5043),b=a(2127),S=a(6092),Y=a(9621),y=a(579);const C=e=>{const{onClose:r,isOpen:a,fetchData:C}=e,q=JSON.parse(localStorage.getItem("user")),[D,w]=(0,f.useState)(!1),[I,P]=(0,f.useState)(!1),[N,k]=(0,f.useState)(!1),E={sender:null===q||void 0===q?void 0:q._id,recipient:"",subject:"",message:"",createBy:"",createByLead:"",startDate:"",endDate:""},B=(0,g.Wx)({initialValues:E,validationSchema:S.y4,onSubmit:(e,r)=>{let{resetForm:a}=r;H(),a()}}),{errors:A,touched:L,values:z,handleBlur:O,handleChange:W,handleSubmit:R,setFieldValue:T}=B,H=async()=>{try{w(!0),200===(await(0,Y.d_)("api/email/add",z)).status&&(e.onClose(),C())}catch(r){console.log(r)}finally{w(!1)}};return(0,f.useEffect)((()=>{(async()=>{if(e.id&&"true"!==e.lead){let t=await(0,Y.x4)("api/contact/view/",e.id);var r,a,i,n;200===(null===t||void 0===t?void 0:t.status)&&(T("recipient",null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.contact)||void 0===a?void 0:a.email),T("createBy",e.id),z.recipient=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(n=i.contact)||void 0===n?void 0:n.email)}else if(e.id&&"true"===e.lead){let r=await(0,Y.x4)("api/lead/view/",e.id);var t,l,o,s;200===(null===r||void 0===r?void 0:r.status)&&(T("recipient",null===r||void 0===r||null===(t=r.data)||void 0===t||null===(l=t.lead)||void 0===l?void 0:l.leadEmail),T("createByLead",e.id),z.recipient=null===r||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.lead)||void 0===s?void 0:s.leadEmail)}})()}),[e.id]),(0,y.jsxs)(i.aF,{onClose:r,isOpen:a,isCentered:!0,children:[(0,y.jsx)(n.m,{}),(0,y.jsxs)(t.$,{children:[(0,y.jsx)(l.r,{children:"Send Email "}),(0,y.jsx)(o.s,{}),(0,y.jsx)(s.c,{children:(0,y.jsxs)(d.x,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsxs)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,y.jsx)(m.E,{color:"red",children:"*"})]}),(0,y.jsx)(p.p,{fontSize:"sm",onChange:W,onBlur:O,value:z.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:A.recipient&&L.recipient?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",A.recipient&&L.recipient&&A.recipient]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subject"}),(0,y.jsx)(p.p,{fontSize:"sm",placeholder:"Enter subject",onChange:W,onBlur:O,value:z.subject,name:"subject",fontWeight:"500",borderColor:A.subject&&L.subject?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",A.subject&&L.subject&&A.subject]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12,md:6},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Start Date"}),(0,y.jsx)(p.p,{type:"datetime-local",fontSize:"sm",onChange:W,onBlur:O,value:z.startDate,name:"startDate",fontWeight:"500",borderColor:null!==A&&void 0!==A&&A.startDate&&null!==L&&void 0!==L&&L.startDate?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",A.startDate&&L.startDate&&A.startDate]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12,md:6},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,y.jsx)(p.p,{type:"datetime-local",fontSize:"sm",onChange:W,onBlur:O,value:z.endDate,name:"endDate",fontWeight:"500",borderColor:null!==A&&void 0!==A&&A.endDate&&null!==L&&void 0!==L&&L.endDate?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",A.endDate&&L.endDate&&A.endDate]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,y.jsx)(h.T,{fontSize:"sm",placeholder:"Here Type message",resize:"none",onChange:W,onBlur:O,value:z.message,name:"message",fontWeight:"500",borderColor:A.message&&L.message?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",A.message&&L.message&&A.message]})]})]})}),(0,y.jsxs)(j.j,{children:[(0,y.jsx)(x.$,{variant:"brand",onClick:R,rightIcon:(0,y.jsx)(b.qYP,{}),disabled:!!D,children:D?(0,y.jsx)(v.A,{}):"Send"}),(0,y.jsx)(x.$,{onClick:()=>{B.resetForm(),r()},children:"Close"})]})]})]})}},7033:(e,r,a)=>{a.r(r),a.d(r,{default:()=>L});var i=a(7492),n=a(6870),t=a(3533),l=a(5527),o=a(9301),s=a(5043),d=a(4799),c=a(4093),u=a(5371),m=a(9081),p=a(2107),h=a(511),j=a(3313),x=a(5395),v=a(3201),g=a(2595),f=a(7813),b=a(9918),S=a(1094),Y=a(8584),y=a(216),C=a(6914),q=a(100),D=a(9488),w=a(5369),I=a(5475),P=a(9621),N=a(2417),k=a(6),E=a(9250),B=a(579);function A(e){const{columnsData:r}=e,a=(0,c.dU)("secondaryGray.900","white"),i=(0,c.dU)("gray.200","whiteAlpha.100"),n=(0,s.useMemo)((()=>r),[r]),[t,l]=(0,s.useState)([]),[o,d]=(0,s.useState)(),[A,L]=(0,s.useState)(!1),[z,O]=(0,s.useState)(!1),[W,R]=(0,s.useState)(!1),[T,H]=(0,s.useState)(),[_,F]=(0,s.useState)(),[V,M]=(0,s.useState)([]),G=JSON.parse(localStorage.getItem("user")),[$,U]=(0,s.useState)(!1),X=async()=>{U(!0);let e=await(0,P.x4)("admin"===G.role?"api/lead/":`api/lead/?createBy=${G._id}`);M(e.data),U(!1)},J=(0,S.useTable)({columns:n,data:V,initialState:{pageIndex:0}},S.useGlobalFilter,S.useSortBy,S.usePagination),{getTableProps:K,getTableBodyProps:Q,headerGroups:Z,prepareRow:ee,page:re,canPreviousPage:ae,canNextPage:ie,pageOptions:ne,pageCount:te,gotoPage:le,nextPage:oe,previousPage:se,setPageSize:de,state:{pageIndex:ce,pageSize:ue}}=J;ne.length<o&&d(ne.length);return(0,s.useEffect)((()=>{X()}),[A,e.isOpen]),(0,B.jsxs)(y.A,{direction:"column",w:"100%",px:"0px",overflowX:{sm:"scroll",lg:"hidden"},children:[(0,B.jsxs)(u.s,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:[(0,B.jsxs)(m.E,{color:a,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:["Leads  (",(0,B.jsx)(C.A,{targetNumber:null===V||void 0===V?void 0:V.length}),")"]}),t.length>0&&(0,B.jsx)(Y.d,{onClick:()=>L(!0),color:"red"})]}),(0,B.jsx)(N.A,{isOpen:A,onClose:L,setSelectedValues:l,url:"api/lead/deleteMany",data:t,method:"many"}),(0,B.jsx)(p.a,{overflowY:"auto",className:"table-fix-container",children:(0,B.jsxs)(h.X,{...K(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,B.jsx)(j.d,{children:null===Z||void 0===Z?void 0:Z.map(((e,r)=>{var a;return(0,s.createElement)(x.Tr,{...e.getHeaderGroupProps(),key:r},null===(a=e.headers)||void 0===a?void 0:a.map(((e,r)=>(0,s.createElement)(v.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:r,borderColor:i},(0,B.jsxs)(u.s,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:[e.render("Header"),!1!==e.isSortable&&(0,B.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,B.jsx)(w.GOR,{}):(0,B.jsx)(w.XhJ,{}):(0,B.jsx)(w.MjW,{})})]})))))}))}),(0,B.jsx)(g.N,{...Q(),children:$?(0,B.jsx)(x.Tr,{children:(0,B.jsx)(f.Td,{colSpan:null===n||void 0===n?void 0:n.length,children:(0,B.jsx)(u.s,{justifyContent:"center",alignItems:"center",width:"100%",color:a,fontSize:"sm",fontWeight:"700",children:(0,B.jsx)(D.A,{})})})}):0===(null===V||void 0===V?void 0:V.length)?(0,B.jsx)(x.Tr,{children:(0,B.jsx)(f.Td,{colSpan:n.length,children:(0,B.jsx)(m.E,{textAlign:"center",width:"100%",color:a,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}):null===re||void 0===re?void 0:re.map(((e,r)=>{var i;return ee(e),(0,s.createElement)(x.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:r},null===e||void 0===e||null===(i=e.cells)||void 0===i?void 0:i.map(((e,r)=>{let i="";var n;if("#"===(null===e||void 0===e?void 0:e.column.Header))i=(0,B.jsxs)(u.s,{align:"center",children:[(0,B.jsx)(b.S,{colorScheme:"brandScheme",value:t,isChecked:t.includes(null===e||void 0===e?void 0:e.value),onChange:r=>((e,r)=>{e.target.checked?l((e=>[...e,r])):l((e=>e.filter((e=>e!==r))))})(r,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,B.jsx)(m.E,{color:a,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.index)+1})]});else if("Lead Name"===(null===e||void 0===e?void 0:e.column.Header)){var o,d;i=(0,B.jsx)(I.N_,{to:"admin"!==(null===G||void 0===G?void 0:G.role)?`/leadView/${null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.values._id}`:`/admin/leadView/${null===e||void 0===e||null===(d=e.row)||void 0===d?void 0:d.values._id}`,children:(0,B.jsx)(m.E,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"green.400",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})}else"Lead Email"===(null===e||void 0===e?void 0:e.column.Header)?i=(0,B.jsx)(m.E,{me:"10px",fontSize:"sm",fontWeight:"700",color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline",cursor:"pointer"}},onClick:()=>{var r;O(!0),H(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.values._id)},children:null===e||void 0===e?void 0:e.value}):"Lead PhoneNumber"===(null===e||void 0===e?void 0:e.column.Header)?i=(0,B.jsx)(m.E,{me:"10px",fontSize:"sm",fontWeight:"700",color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline",cursor:"pointer"}},onClick:()=>{var r;R(!0),F(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.values._id)},children:null===e||void 0===e?void 0:e.value}):("Lead Address"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Status"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Owner"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Score"===(null===e||void 0===e?void 0:e.column.Header))&&(i=(0,B.jsx)(m.E,{color:a,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(f.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:r,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},i)})))}))})]})}),(null===V||void 0===V?void 0:V.length)>5&&(0,B.jsx)(q.A,{gotoPage:le,gopageValue:o,setGopageValue:d,pageCount:te,canPreviousPage:ae,previousPage:se,canNextPage:ie,pageOptions:ne,setPageSize:de,nextPage:oe,pageSize:ue,pageIndex:ce}),(0,B.jsx)(k.A,{fetchData:X,isOpen:z,onClose:O,data:null===V||void 0===V?void 0:V.contact,lead:"true",id:T}),(0,B.jsx)(E.A,{fetchData:X,isOpen:W,onClose:R,data:null===V||void 0===V?void 0:V.contact,id:_,lead:"true"})]})}const L=()=>{const[e,r]=(0,s.useState)([]),a=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],{isOpen:c,onOpen:u,onClose:m}=(0,n.j)();(0,s.useEffect)((()=>{r(a)}),[m]);return(0,B.jsxs)("div",{children:[(0,B.jsx)(t.x,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,B.jsx)(l.E,{colStart:6,textAlign:"right",children:(0,B.jsx)(o.$,{onClick:()=>{u()},leftIcon:(0,B.jsx)(i.R,{}),variant:"brand",children:"Add"})})}),(0,B.jsx)(A,{columnsData:e,isOpen:c}),(0,B.jsx)(d.A,{isOpen:c,size:"lg",onClose:m})]})}},9250:(e,r,a)=>{a.d(r,{A:()=>C});var i=a(8460),n=a(1054),t=a(5421),l=a(5071),o=a(5929),s=a(7516),d=a(3533),c=a(5527),u=a(6668),m=a(9081),p=a(5699),h=a(9077),j=a(6529),x=a(9301),v=a(9488),g=a(3516),f=a(5043),b=a(2127),S=a(6092),Y=a(9621),y=a(579);const C=e=>{const{onClose:r,isOpen:a,fetchData:C}=e,[q,D]=(0,f.useState)(!1),w=JSON.parse(localStorage.getItem("user")),I={sender:null===w||void 0===w?void 0:w._id,recipient:"",callDuration:"",callNotes:"",createBy:"",createByLead:"",startDate:"",endDate:""},P=(0,g.Wx)({initialValues:I,validationSchema:S.Ar,onSubmit:(e,r)=>{let{resetForm:a}=r;O(),a()}}),{errors:N,touched:k,values:E,handleBlur:B,handleChange:A,handleSubmit:L,setFieldValue:z}=P,O=async()=>{try{D(!0),200===(await(0,Y.d_)("api/phoneCall/add",E)).status&&(e.onClose(),C())}catch(r){console.log(r)}finally{D(!1)}};return(0,f.useEffect)((()=>{(async()=>{if(e.id&&"true"!==e.lead){let t=await(0,Y.x4)("api/contact/view/",e.id);var r,a,i,n;200===(null===t||void 0===t?void 0:t.status)&&(z("recipient",null===t||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.contact)||void 0===a?void 0:a.phoneNumber),z("createBy",null===e||void 0===e?void 0:e.id),E.recipient=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(n=i.contact)||void 0===n?void 0:n.phoneNumber)}else if(e.id&&"true"===e.lead){let r=await(0,Y.x4)("api/lead/view/",e.id);var t,l,o,s;200===(null===r||void 0===r?void 0:r.status)&&(z("recipient",null===r||void 0===r||null===(t=r.data)||void 0===t||null===(l=t.lead)||void 0===l?void 0:l.leadPhoneNumber),z("createByLead",e.id),E.recipient=null===r||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.lead)||void 0===s?void 0:s.leadPhoneNumber)}})()}),[e.id]),(0,y.jsxs)(i.aF,{onClose:r,isOpen:a,isCentered:!0,children:[(0,y.jsx)(n.m,{}),(0,y.jsxs)(t.$,{children:[(0,y.jsx)(l.r,{children:"Add Call "}),(0,y.jsx)(o.s,{}),(0,y.jsx)(s.c,{children:(0,y.jsxs)(d.x,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsxs)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,y.jsx)(m.E,{color:"red",children:"*"})]}),(0,y.jsx)(p.p,{fontSize:"sm",type:"number",onChange:A,onBlur:B,value:E.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:N.recipient&&k.recipient?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",N.recipient&&k.recipient&&N.recipient]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12,md:6},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Start Date"}),(0,y.jsx)(p.p,{type:"datetime-local",fontSize:"sm",onChange:A,onBlur:B,value:E.startDate,name:"startDate",fontWeight:"500",borderColor:null!==N&&void 0!==N&&N.startDate&&null!==k&&void 0!==k&&k.startDate?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",N.startDate&&k.startDate&&N.startDate]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12,md:6},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,y.jsx)(p.p,{type:"datetime-local",fontSize:"sm",onChange:A,onBlur:B,value:E.endDate,name:"endDate",fontWeight:"500",borderColor:null!==N&&void 0!==N&&N.endDate&&null!==k&&void 0!==k&&k.endDate?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",N.endDate&&k.endDate&&N.endDate]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsxs)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,y.jsx)(m.E,{color:"red",children:"*"})]}),(0,y.jsx)(p.p,{fontSize:"sm",onChange:A,onBlur:B,value:E.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:N.callDuration&&k.callDuration?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",N.callDuration&&k.callDuration&&N.callDuration]})]}),(0,y.jsxs)(c.E,{colSpan:{base:12},children:[(0,y.jsx)(u.l,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,y.jsx)(h.T,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:A,onBlur:B,value:E.callNotes,name:"callNotes",fontWeight:"500",borderColor:N.callNotes&&k.callNotes?"red.300":null}),(0,y.jsxs)(m.E,{mb:"10px",color:"red",children:[" ",N.callNotes&&k.callNotes&&N.callNotes]})]})]})}),(0,y.jsxs)(j.j,{children:[(0,y.jsx)(x.$,{variant:"brand",leftIcon:(0,y.jsx)(b.s91,{}),disabled:!!q,onClick:L,children:q?(0,y.jsx)(v.A,{}):"Call"}),(0,y.jsx)(x.$,{onClick:()=>{P.resetForm(),r()},children:"Close"})]})]})]})}},7492:(e,r,a)=>{a.d(r,{R:()=>i});const i=(0,a(4010).w)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"})},7575:(e,r,a)=>{a.d(r,{U:()=>i});const i=(0,a(4010).w)({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})},8584:(e,r,a)=>{a.d(r,{d:()=>n});var i=a(579);const n=(0,a(4010).w)({displayName:"DeleteIcon",path:(0,i.jsx)("g",{fill:"currentColor",children:(0,i.jsx)("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})})},9918:(e,r,a)=>{a.d(r,{S:()=>q});var i=a(579),n=a(3033),t=a(7246),l=a(3019),o=a(4765),s=a(3290),d=a(5043),c=a(6417);const[u,m]=(0,c.q)({name:"CheckboxGroupContext",strict:!1});var p=a(5334);function h(e){return(0,i.jsx)(p.B.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:(0,i.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function j(e){return(0,i.jsx)(p.B.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:(0,i.jsx)("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function x(e){const{isIndeterminate:r,isChecked:a,...n}=e,t=r?j:h;return a||r?(0,i.jsx)(p.B.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,i.jsx)(t,{...n})}):null}var v=a(4069);var g=a(5003),f=a(5158);const b={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},S={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Y=(0,s.keyframes)({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),y=(0,s.keyframes)({from:{opacity:0},to:{opacity:1}}),C=(0,s.keyframes)({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),q=(0,g.R)((function(e,r){const a=m(),s={...a,...e},c=(0,f.o)("Checkbox",s),u=(0,n.M)(e),{spacing:h="0.5rem",className:j,children:g,iconColor:q,iconSize:D,icon:w=(0,i.jsx)(x,{}),isChecked:I,isDisabled:P=a?.isDisabled,onChange:N,inputProps:k,...E}=u;let B=I;a?.value&&u.value&&(B=a.value.includes(u.value));let A=N;a?.onChange&&u.value&&(A=(0,t.O)(a.onChange,N));const{state:L,getInputProps:z,getCheckboxProps:O,getLabelProps:W,getRootProps:R}=(0,v.v)({...E,isDisabled:P,isChecked:B,onChange:A}),T=function(e){const[r,a]=(0,d.useState)(e),[i,n]=(0,d.useState)(!1);return e!==r&&(n(!0),a(e)),i}(L.isChecked),H=(0,d.useMemo)((()=>({animation:T?L.isIndeterminate?`${y} 20ms linear, ${C} 200ms linear`:`${Y} 200ms linear`:void 0,...c.icon,...(0,l.o)({fontSize:D,color:q})})),[q,D,T,L.isIndeterminate,c.icon]),_=(0,d.cloneElement)(w,{__css:H,isIndeterminate:L.isIndeterminate,isChecked:L.isChecked});return(0,i.jsxs)(p.B.label,{__css:{...S,...c.container},className:(0,o.cx)("chakra-checkbox",j),...R(),children:[(0,i.jsx)("input",{className:"chakra-checkbox__input",...z(k,r)}),(0,i.jsx)(p.B.span,{__css:{...b,...c.control},className:"chakra-checkbox__control",...O(),children:_}),g&&(0,i.jsx)(p.B.span,{className:"chakra-checkbox__label",...W(),__css:{marginStart:h,...c.label},children:g})]})}));q.displayName="Checkbox"},5527:(e,r,a)=>{a.d(r,{E:()=>d});var i=a(579),n=a(2470),t=a(3019),l=a(5003),o=a(5334);function s(e){return(0,n.bk)(e,(e=>"auto"===e?"auto":`span ${e}/span ${e}`))}const d=(0,l.R)((function(e,r){const{area:a,colSpan:n,colStart:l,colEnd:d,rowEnd:c,rowSpan:u,rowStart:m,...p}=e,h=(0,t.o)({gridArea:a,gridColumn:s(n),gridRow:s(u),gridColumnStart:l,gridColumnEnd:d,gridRowStart:m,gridRowEnd:c});return(0,i.jsx)(o.B.div,{ref:r,__css:h,...p})}));d.displayName="GridItem"},3533:(e,r,a)=>{a.d(r,{x:()=>l});var i=a(579),n=a(5003),t=a(5334);const l=(0,n.R)((function(e,r){const{templateAreas:a,gap:n,rowGap:l,columnGap:o,column:s,row:d,autoFlow:c,autoRows:u,templateRows:m,autoColumns:p,templateColumns:h,...j}=e,x={display:"grid",gridTemplateAreas:a,gridGap:n,gridRowGap:l,gridColumnGap:o,gridAutoColumns:p,gridColumn:s,gridRow:d,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:m,gridTemplateColumns:h};return(0,i.jsx)(t.B.div,{ref:r,__css:x,...j})}));l.displayName="Grid"},9077:(e,r,a)=>{a.d(r,{T:()=>m});var i=a(579),n=a(3033),t=a(4079),l=a(4765),o=a(3635),s=a(5003),d=a(5158),c=a(5334);const u=["h","minH","height","minHeight"],m=(0,s.R)(((e,r)=>{const a=(0,d.V)("Textarea",e),{className:s,rows:m,...p}=(0,n.M)(e),h=(0,o.t)(p),j=m?(0,t.c)(a,u):a;return(0,i.jsx)(c.B.textarea,{ref:r,rows:m,...h,className:(0,l.cx)("chakra-textarea",s),__css:j})}));m.displayName="Textarea"}}]);
//# sourceMappingURL=6783.d8e7d832.chunk.js.map