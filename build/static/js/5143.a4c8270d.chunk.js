"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[5143],{8709:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var s=t(7492),n=t(6870),c=t(5371),r=t(9301),l=t(6659),i=t(9081),o=t(5043),d=t(9621),h=t(1538),x=t(7930),u=t(579);const f=()=>{const{isOpen:e,onOpen:a,onClose:t}=(0,n.j)(),[f,j]=(0,o.useState)([]),[p,g]=(0,o.useState)(!1),[m,y]=(0,o.useState)(null),C=JSON.parse(localStorage.getItem("user")),H=async()=>{g(!0),y(null);try{const e=await(0,d.x4)("admin"===C.role?"api/task/":`api/task/?createBy=${C._id}`);j(e.data)}catch(e){y("Failed to fetch data. Please try again later.")}finally{g(!1)}};return(0,o.useEffect)((()=>(H(),()=>{console.log("Cleanup logic here (if any)")})),[]),(0,u.jsxs)("div",{children:[(0,u.jsx)(c.s,{alignItems:"center",justifyContent:"flex-end",flexWrap:"wrap",mb:3,children:(0,u.jsx)(r.$,{onClick:a,leftIcon:(0,u.jsx)(s.R,{}),variant:"brand",children:"Create Task"})}),p?(0,u.jsx)(c.s,{alignItems:"center",justifyContent:"center",height:"200px",children:(0,u.jsx)(l.y,{size:"xl"})}):m?(0,u.jsx)(c.s,{alignItems:"center",justifyContent:"center",height:"200px",children:(0,u.jsx)(i.E,{color:"red.500",children:m})}):(0,u.jsx)(h.A,{columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Title",accessor:"title"},{Header:"Related",accessor:"category"},{Header:"Assignment To",accessor:"assignmentToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],fetchData:H,data:f,isLoading:p,className:"table-fix-container"}),(0,u.jsx)(x.A,{isOpen:e,fetchData:H,onClose:t})]})},j=()=>(0,u.jsx)(f,{})},7492:(e,a,t)=>{t.d(a,{R:()=>s});const s=(0,t(4010).w)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"})},2825:(e,a,t)=>{t.d(a,{t:()=>n});var s=t(579);const n=(0,t(4010).w)({displayName:"ViewIcon",path:(0,s.jsxs)("g",{fill:"currentColor",children:[(0,s.jsx)("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})})}}]);
//# sourceMappingURL=5143.a4c8270d.chunk.js.map