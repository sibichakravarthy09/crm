"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[2056],{216:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(5158),s=a(2107),r=a(579);const l=function(e){const{variant:t,children:a,...l}=e,i=(0,n.V)("Card",{variant:t});return(0,r.jsx)(s.a,{__css:i,height:"100%",...l,children:a})}},6914:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(5043),s=a(579);const r=function(e){let{targetNumber:t}=e;const[a,r]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=setInterval((()=>{a<t&&r((e=>e+1))}),t>500?0:20);return()=>{clearInterval(e)}}),[a,t]),(0,s.jsx)("span",{children:"number"===typeof t?a:t})}},2056:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var n=a(4093),s=a(579),r=a(2470),l=a(3533),i=a(7841),o=a(6448),c=a(5003);const d=(0,c.R)((function(e,t){const{columns:a,spacingX:n,spacingY:c,spacing:d,minChildWidth:u,...p}=e,x=(0,i.D)(),h=u?function(e,t){return(0,r.bk)(e,(e=>{const a=(0,o.gf)("sizes",e,"number"===typeof(n=e)?`${n}px`:n)(t);var n;return null===e?null:`repeat(auto-fit, minmax(${a}, 1fr))`}))}(u,x):(m=a,(0,r.bk)(m,(e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`)));var m;return(0,s.jsx)(l.x,{ref:t,gap:d,columnGap:n,rowGap:c,templateColumns:h,...p})}));d.displayName="SimpleGrid";var u=a(5011),p=a(5527),x=a(5371),h=a(8846),m=a(2703),j=a(2825),g=a(216),f=a(3033),b=a(6417),v=a(4765),y=a(5158),w=a(5334);const[C,S]=(0,b.q)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),_=(0,c.R)((function(e,t){const a=(0,y.o)("Stat",e),n={position:"relative",flex:"1 1 0%",...a.container},{className:r,children:l,...i}=(0,f.M)(e);return(0,s.jsx)(C,{value:a,children:(0,s.jsx)(w.B.div,{ref:t,...i,className:(0,v.cx)("chakra-stat",r),__css:n,children:(0,s.jsx)("dl",{children:l})})})}));_.displayName="Stat";const k=(0,c.R)((function(e,t){const a=S();return(0,s.jsx)(w.B.dt,{ref:t,...e,className:(0,v.cx)("chakra-stat__label",e.className),__css:a.label})}));k.displayName="StatLabel";const N=(0,c.R)((function(e,t){const a=S();return(0,s.jsx)(w.B.dd,{ref:t,...e,className:(0,v.cx)("chakra-stat__number",e.className),__css:{...a.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})}));N.displayName="StatNumber";var E=a(9081),R=a(6914),A=a(5043);function I(e){const{startContent:t,endContent:a,name:r,growth:l,value:i}=e,o=(0,n.dU)("secondaryGray.900","white");return(0,s.jsx)(g.A,{cursor:"pointer",py:"15px",onClick:e.onClick,children:(0,s.jsxs)(x.s,{my:"auto",h:"100%",align:{base:"center",xl:"start"},justify:{base:"center",xl:"center"},children:[t,(0,s.jsxs)(_,{my:"auto",ms:t?"18px":"0px",children:[(0,s.jsx)(k,{lineHeight:"100%",color:"secondaryGray.600",fontSize:{base:"sm"},children:r}),(0,s.jsx)(N,{color:o,fontSize:{base:"2xl"},children:(0,s.jsx)(R.A,{targetNumber:i})}),l?(0,s.jsxs)(x.s,{align:"center",children:[(0,s.jsx)(E.E,{color:"green.500",fontSize:"xs",fontWeight:"700",me:"5px",children:l}),(0,s.jsx)(E.E,{color:"secondaryGray.600",fontSize:"xs",fontWeight:"400",children:"since last month"})]}):null]}),(0,s.jsx)(x.s,{ms:"auto",w:"max-content",children:a})]})})}function G(e){const{icon:t,...a}=e;return(0,s.jsx)(x.s,{alignItems:"center",justifyContent:"center",borderRadius:"50%",...a,children:t})}var z=a(3994),B=a(9271),D=a(7149),M=a(3216),$=a(9621),Y=a(3972),F=(a(6178),a(2019));a(5015);const T=e=>{const{dashboard:t}=e,[a,n]=(0,A.useState)([44,55,13,33]);return(0,s.jsx)(g.A,{children:(0,s.jsx)(l.x,{py:5,children:(0,s.jsx)("div",{children:(0,s.jsx)(F.A,{options:{chart:{width:380,type:"donut"},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}],legend:{position:"bottom"}},series:a,type:"donut",width:450})})})})};function W(){const e=(0,n.dU)("brand.500","white"),t=(0,n.dU)("secondaryGray.300","whiteAlpha.100"),a=JSON.parse(localStorage.getItem("user")),[r,i]=(0,A.useState)([]),[o,c]=(0,A.useState)([]),[f,b]=(0,A.useState)([]),[v,y]=(0,A.useState)([]),w=(0,M.Zp)();return(0,A.useEffect)((()=>{(async()=>{let e=await(0,$.x4)("admin"===a.role?"api/task/":`api/task/?createBy=${a._id}`),t=await(0,$.x4)("admin"===a.role?"api/contact/":`api/contact/?createBy=${a._id}`),n=await(0,$.x4)("admin"===a.role?"api/lead/":`api/lead/?createBy=${a._id}`),s=await(0,$.x4)("admin"===a.role?"api/property/":`api/property/?createBy=${a._id}`);y(null===s||void 0===s?void 0:s.data),b(null===n||void 0===n?void 0:n.data),c(null===t||void 0===t?void 0:t.data),i(null===e||void 0===e?void 0:e.data)})()}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d,{columns:{base:1,md:2,lg:4},gap:"20px",mb:"20px",children:[(0,s.jsx)(I,{onClick:()=>w("/task"),startContent:(0,s.jsx)(G,{w:"56px",h:"56px",bg:"linear-gradient(90deg, #df684c 0%, #a7381e 100%)",icon:(0,s.jsx)(u.I,{w:"28px",h:"28px",as:D.WlK,color:"white"})}),name:"Tasks",value:(null===r||void 0===r?void 0:r.length)||0}),(0,s.jsx)(I,{onClick:()=>w("/contacts"),startContent:(0,s.jsx)(G,{w:"56px",h:"56px",bg:t,icon:(0,s.jsx)(u.I,{w:"32px",h:"32px",as:D.HtZ,color:e})}),name:"Contacts",value:(null===o||void 0===o?void 0:o.length)||0}),(0,s.jsx)(I,{onClick:()=>w("/lead"),startContent:(0,s.jsx)(G,{w:"56px",h:"56px",bg:t,icon:(0,s.jsx)(u.I,{w:"32px",h:"32px",as:D.ju$,color:e})}),name:"Leads",value:(null===f||void 0===f?void 0:f.length)||0}),(0,s.jsx)(I,{onClick:()=>w("/properties"),startContent:(0,s.jsx)(G,{w:"56px",h:"56px",bg:t,icon:(0,s.jsx)(u.I,{w:"32px",h:"32px",as:B.MbK,color:e})}),name:"property",value:(null===v||void 0===v?void 0:v.length)||0})]}),(0,s.jsxs)(l.x,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,s.jsx)(p.E,{rowSpan:2,colSpan:{base:12,md:8},children:(0,s.jsxs)(g.A,{children:[(0,s.jsxs)(x.s,{mb:3,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(h.D,{size:"md",children:"Report"}),(0,s.jsx)(m.K,{color:"green.500",onClick:()=>w("/reporting-analytics"),"aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,s.jsx)(j.t,{})})]}),(0,s.jsx)(z.E,{}),(0,s.jsx)(Y.A,{dashboard:"dashboard"})]})}),(0,s.jsx)(p.E,{rowSpan:2,colSpan:{base:12,md:4},children:(0,s.jsxs)(g.A,{children:[(0,s.jsxs)(x.s,{mb:3,alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(h.D,{size:"md",children:"Report"}),(0,s.jsx)(m.K,{color:"green.500",onClick:()=>w("/reporting-analytics"),"aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,s.jsx)(j.t,{})})]}),(0,s.jsx)(z.E,{}),(0,s.jsx)(T,{dashboard:"dashboard"})]})})]})]})}},3972:(e,t,a)=>{a.d(t,{A:()=>g});var n=a(2107),s=a(1724),r=a(6686),l=a(9904),i=a(4812),o=a(216),c=a(6178),d=a.n(c),u=a(5043),p=a(2019),x=a(1899),h=a.n(x),m=(a(5015),a(9621)),j=a(579);const g=e=>{const{dashboard:t}=e,[a,c]=(0,u.useState)({}),[x,g]=(0,u.useState)(new Date(new Date-12096e5)),[f,b]=(0,u.useState)(new Date),[v,y]=(0,u.useState)("all"),[w,C]=(0,u.useState)("day"),S=JSON.parse(localStorage.getItem("user")),_=Object.keys(a).map((e=>{const t=a[e][0];let n=[];return null!==t&&void 0!==t&&t.Emails&&(n=n.concat(t.Emails.map((e=>({x:e.date,y:e.Emailcount}))))),null!==t&&void 0!==t&&t.Calls&&(n=n.concat(t.Calls.map((e=>({x:e.date,y:e.Callcount}))))),null!==t&&void 0!==t&&t.TextMsges&&(n=n.concat(t.TextMsges.map((e=>({x:e.date,y:e.TextSentCount}))))),{name:e,data:n}}));(0,u.useEffect)((()=>{(async()=>{const e={startDate:d()(x).format("YYYY-MM-DD"),endDate:d()(f).format("YYYY-MM-DD"),filter:w};let t=await(0,m.d_)("admin"===S.role?"api/reporting/index":`api/reporting/index?sender=${S._id}`,e);t&&200===t.status&&c(null===t||void 0===t?void 0:t.data)})()}),[x,f,w]);const k="all"===v?_:_.filter((e=>e.name===v));return(0,j.jsxs)(o.A,{children:[!t&&(0,j.jsxs)(n.a,{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",mb:4,children:[(0,j.jsxs)(s.l,{value:v,onChange:e=>y(e.target.value),width:{base:"100%",md:"15%"},mb:{base:3,md:"auto"},children:[(0,j.jsx)("option",{value:"EmailDetails",children:"Email"}),(0,j.jsx)("option",{value:"outboundcall",children:"Call"}),(0,j.jsx)("option",{value:"all",children:"all"})]}),(0,j.jsxs)(n.a,{width:{base:"100%",md:"auto"},flexWrap:"wrap",justifyContent:"left",mb:{base:3,md:"auto"},display:"flex",children:[(0,j.jsx)(h(),{selected:x,onChange:e=>g(e)}),(0,j.jsx)(h(),{selected:f,onChange:e=>b(e)})]}),(0,j.jsx)(n.a,{width:{base:"100%",md:"auto"},display:"flex",justifyContent:"right",mb:{base:3,md:"auto"},children:(0,j.jsx)(r.z,{onChange:e=>C(e),value:w,children:(0,j.jsxs)(l.B,{direction:"row",children:[(0,j.jsx)(i.s,{value:"day",children:"Daily"}),(0,j.jsx)(i.s,{value:"week",children:"Weekly"})]})})})]}),(0,j.jsx)("div",{id:"chart",children:(0,j.jsx)("div",{id:"chart-timeline",children:k&&(0,j.jsx)(p.A,{options:{chart:{id:"line-chart"},xaxis:{type:"datetime"},yaxis:{title:{text:"Count"}},dataLabels:{enabled:!0}},series:k,type:"area",height:350})})})]})}},2825:(e,t,a)=>{a.d(t,{t:()=>s});var n=a(579);const s=(0,a(4010).w)({displayName:"ViewIcon",path:(0,n.jsxs)("g",{fill:"currentColor",children:[(0,n.jsx)("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"2"})]})})},5527:(e,t,a)=>{a.d(t,{E:()=>c});var n=a(579),s=a(2470),r=a(3019),l=a(5003),i=a(5334);function o(e){return(0,s.bk)(e,(e=>"auto"===e?"auto":`span ${e}/span ${e}`))}const c=(0,l.R)((function(e,t){const{area:a,colSpan:s,colStart:l,colEnd:c,rowEnd:d,rowSpan:u,rowStart:p,...x}=e,h=(0,r.o)({gridArea:a,gridColumn:o(s),gridRow:o(u),gridColumnStart:l,gridColumnEnd:c,gridRowStart:p,gridRowEnd:d});return(0,n.jsx)(i.B.div,{ref:t,__css:h,...x})}));c.displayName="GridItem"},3533:(e,t,a)=>{a.d(t,{x:()=>l});var n=a(579),s=a(5003),r=a(5334);const l=(0,s.R)((function(e,t){const{templateAreas:a,gap:s,rowGap:l,columnGap:i,column:o,row:c,autoFlow:d,autoRows:u,templateRows:p,autoColumns:x,templateColumns:h,...m}=e,j={display:"grid",gridTemplateAreas:a,gridGap:s,gridRowGap:l,gridColumnGap:i,gridAutoColumns:x,gridColumn:o,gridRow:c,gridAutoFlow:d,gridAutoRows:u,gridTemplateRows:p,gridTemplateColumns:h};return(0,n.jsx)(r.B.div,{ref:t,__css:j,...m})}));l.displayName="Grid"},1724:(e,t,a)=>{a.d(t,{l:()=>m});var n=a(579),s=a(3033),r=a(6501),l=a(6712),i=a(8813),o=a(5043),c=a(4765),d=a(5003),u=a(5334);const p=(0,d.R)((function(e,t){const{children:a,placeholder:s,className:r,...l}=e;return(0,n.jsxs)(u.B.select,{...l,ref:t,className:(0,c.cx)("chakra-select",r),children:[s&&(0,n.jsx)("option",{value:"",children:s}),a]})}));p.displayName="SelectField";var x=a(3635),h=a(5158);const m=(0,d.R)(((e,t)=>{const a=(0,h.o)("Select",e),{rootProps:o,placeholder:c,icon:d,color:m,height:j,h:g,minH:b,minHeight:v,iconColor:y,iconSize:w,...C}=(0,s.M)(e),[S,_]=(0,l.l)(C,r.GF),k=(0,x.t)(_),N={width:"100%",height:"fit-content",position:"relative",color:m},E={paddingEnd:"2rem",...a.field,_focus:{zIndex:"unset",...a.field?._focus}};return(0,n.jsxs)(u.B.div,{className:"chakra-select__wrapper",__css:N,...S,...o,children:[(0,n.jsx)(p,{ref:t,height:g??j,minH:b??v,placeholder:c,...k,__css:E,children:e.children}),(0,n.jsx)(f,{"data-disabled":(0,i.s)(k.disabled),...(y||m)&&{color:y||m},__css:a.icon,...w&&{fontSize:w},children:d})]})}));m.displayName="Select";const j=e=>(0,n.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),g=(0,u.B)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=e=>{const{children:t=(0,n.jsx)(j,{}),...a}=e,s=(0,o.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,n.jsx)(g,{...a,className:"chakra-select__icon-wrapper",children:(0,o.isValidElement)(t)?s:null})};f.displayName="SelectIcon"},6712:(e,t,a)=>{function n(e,t){const a={},n={};for(const[s,r]of Object.entries(e))t.includes(s)?a[s]=r:n[s]=r;return[a,n]}a.d(t,{l:()=>n})}}]);
//# sourceMappingURL=2056.49c046d9.chunk.js.map