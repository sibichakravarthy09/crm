"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[2862],{6806:(e,n,l)=>{l.r(n),l.d(n,{default:()=>O});var i=l(6870),o=l(3533),a=l(5527),s=l(5371),d=l(9883),t=l(6236),r=l(9301),c=l(7639),h=l(1872),v=l(3560),m=l(9081),u=l(2703),x=l(5874),p=l(7492),j=l(9973),f=l(8584),b=l(5043),k=l(6178),g=l.n(k),E=l(3216),S=l(5475),y=l(7805),A=l(9621),T=l(216),C=l(4960),N=l(7930),L=l(9644),_=l(591),w=l(579);const O=e=>{var n,l,k,O,z,W,D,I;const M=(0,E.g)(),{id:$}=M,V=JSON.parse(localStorage.getItem("user")),[q,B]=(0,b.useState)(),[P,H]=(0,b.useState)(!1),{isOpen:J,onOpen:R,onClose:G}=(0,i.j)(),[F,K]=(0,b.useState)(!1),[Q,Z]=(0,b.useState)(!1);(0,b.useEffect)((()=>{(async()=>{if($){var e,n,l;H(!0);let i=await(0,A.x4)("api/task/view/",null!==$&&void 0!==$&&$.event?null===$||void 0===$||null===(e=$.event)||void 0===e||null===(n=e._def)||void 0===n||null===(l=n.extendedProps)||void 0===l?void 0:l._id:$);B(null===i||void 0===i?void 0:i.data),H(!1)}})()}),[$,F]);return(0,w.jsxs)("div",{children:[(0,w.jsx)(o.x,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,w.jsx)(a.E,{colStart:6,children:(0,w.jsxs)(s.s,{justifyContent:"right",children:[(0,w.jsxs)(d.W,{children:[(0,w.jsx)(t.I,{variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:r.$,rightIcon:(0,w.jsx)(x.D,{}),children:"Actions"}),(0,w.jsx)(c.N,{}),(0,w.jsxs)(h.c,{children:[(0,w.jsx)(v.D,{onClick:()=>{R()},icon:(0,w.jsx)(p.R,{}),children:"Add"}),(0,w.jsx)(v.D,{onClick:()=>K(!0),icon:(0,w.jsx)(j.q,{}),children:"Edit"}),"admin"!==(null===q||void 0===q?void 0:q.role)&&"admin"===(null===(n=JSON.parse(localStorage.getItem("user")))||void 0===n?void 0:n.role)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.N,{}),(0,w.jsx)(v.D,{onClick:()=>Z(!0),icon:(0,w.jsx)(f.d,{}),children:"Delete"})]})]})]}),(0,w.jsx)(S.N_,{to:"/task",children:(0,w.jsx)(r.$,{leftIcon:(0,w.jsx)(C.m6W,{}),variant:"brand",children:"Back"})})]})})}),(0,w.jsx)(T.A,{children:(0,w.jsxs)(o.x,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.title?null===q||void 0===q?void 0:q.title:" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.category?null===q||void 0===q?void 0:q.category:" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.start?g()(null===q||void 0===q?void 0:q.start).format("L LT"):" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.end?g()(null===q||void 0===q?void 0:q.end).format("L LT"):g()(null===q||void 0===q?void 0:q.start).format("L")})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==q&&void 0!==q&&q.url?(0,w.jsx)("a",{target:"_blank",href:null===q||void 0===q?void 0:q.url,children:(0,w.jsx)(u.K,{borderRadius:"10px",size:"md",icon:(0,w.jsx)(y.o9J,{})})}):"-"]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.reminder?null===q||void 0===q?void 0:q.reminder:" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),(0,w.jsx)(S.N_,{to:null!==q&&void 0!==q&&q.assignmentTo?"admin"!==(null===V||void 0===V?void 0:V.role)?`/contactView/${null===q||void 0===q?void 0:q.assignmentTo}`:`/admin/contactView/${null===q||void 0===q?void 0:q.assignmentTo}`:"admin"!==(null===V||void 0===V?void 0:V.role)?`/leadView/${null===q||void 0===q?void 0:q.assignmentToLead}`:`/admin/leadView/${null===q||void 0===q?void 0:q.assignmentToLead}`,children:(0,w.jsx)(m.E,{color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:null!==q&&void 0!==q&&q.assignmentToName?null===q||void 0===q?void 0:q.assignmentToName:" - "})})]}),(0,w.jsxs)(a.E,{colSpan:{base:12,md:6},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.createByName?null===q||void 0===q?void 0:q.createByName:" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.description?null===q||void 0===q?void 0:q.description:" - "})]}),(0,w.jsxs)(a.E,{colSpan:{base:12},children:[(0,w.jsx)(m.E,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,w.jsx)(m.E,{children:null!==q&&void 0!==q&&q.notes?null===q||void 0===q?void 0:q.notes:" - "})]})]})}),(0,w.jsx)(T.A,{mt:3,children:(0,w.jsx)(o.x,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,w.jsx)(a.E,{colStart:6,children:(0,w.jsxs)(s.s,{justifyContent:"right",children:[(0,w.jsx)(r.$,{onClick:()=>K(!0),leftIcon:(0,w.jsx)(j.q,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),"admin"!==(null===q||void 0===q?void 0:q.role)&&"admin"===(null===(l=JSON.parse(localStorage.getItem("user")))||void 0===l?void 0:l.role)&&(0,w.jsx)(r.$,{style:{background:"red.800"},onClick:()=>Z(!0),leftIcon:(0,w.jsx)(f.d,{}),colorScheme:"red",children:"Delete"})]})})})}),(0,w.jsx)(N.A,{isOpen:J,onClose:G}),(0,w.jsx)(_.A,{isOpen:F,onClose:K,viewClose:G,id:null!==$&&void 0!==$&&$.event?null===$||void 0===$||null===(k=$.event)||void 0===k||null===(O=k._def)||void 0===O||null===(z=O.extendedProps)||void 0===z?void 0:z._id:$}),(0,w.jsx)(L.A,{isOpen:Q,onClose:Z,viewClose:G,url:"api/task/delete/",method:"one",id:null!==$&&void 0!==$&&$.event?null===$||void 0===$||null===(W=$.event)||void 0===W||null===(D=W._def)||void 0===D||null===(I=D.extendedProps)||void 0===I?void 0:I._id:$,redirectPage:"/task"})]})}},7492:(e,n,l)=>{l.d(n,{R:()=>i});const i=(0,l(4010).w)({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"})},5874:(e,n,l)=>{l.d(n,{D:()=>i});const i=(0,l(4010).w)({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})},9973:(e,n,l)=>{l.d(n,{q:()=>o});var i=l(579);const o=(0,l(4010).w)({displayName:"EditIcon",path:(0,i.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,i.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})})},8876:(e,n,l)=>{l.d(n,{A:()=>r});var i=l(3108),o=l(2470);var a=l(5043),s=l(2923);var d=l(7841);function t(e){const n=(0,i.Gv)(e)?e:{fallback:e??"base"},l=(0,d.D)().__breakpoints.details.map((e=>{let{minMaxQuery:n,breakpoint:l}=e;return{breakpoint:l,query:n.replace("@media screen and ","")}})),o=l.map((e=>e.breakpoint===n.fallback)),t=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ssr:l=!0,fallback:i}=n,{getWindow:o}=(0,s.O)(),d=Array.isArray(e)?e:[e];let t=Array.isArray(i)?i:[i];t=t.filter((e=>null!=e));const[r,c]=(0,a.useState)((()=>d.map(((e,n)=>({media:e,matches:l?!!t[n]:o().matchMedia(e).matches})))));return(0,a.useEffect)((()=>{const e=o();c(d.map((n=>({media:n,matches:e.matchMedia(n).matches}))));const n=d.map((n=>e.matchMedia(n))),l=e=>{c((n=>n.slice().map((n=>n.media===e.media?{...n,matches:e.matches}:n))))};return n.forEach((e=>{"function"===typeof e.addListener?e.addListener(l):e.addEventListener("change",l)})),()=>{n.forEach((e=>{"function"===typeof e.removeListener?e.removeListener(l):e.removeEventListener("change",l)}))}}),[o]),r.map((e=>e.matches))}(l.map((e=>e.query)),{fallback:o,ssr:n.ssr}),r=t.findIndex((e=>1==e));return l[r]?.breakpoint??n.fallback}function r(e,n){const l=t((0,i.Gv)(n)?n:{fallback:n??"base"}),a=(0,d.D)();if(!l)return;const s=Array.from(a.__breakpoints?.keys||[]);return function(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.fi,i=Object.keys(e).indexOf(n);if(-1!==i)return e[n];let a=l.indexOf(n);for(;a>=0;){const n=l[a];if(e.hasOwnProperty(n)){i=a;break}a-=1}if(-1!==i)return e[l[i]]}(Array.isArray(e)?Object.fromEntries(Object.entries((0,o.a1)(e,s)).map((e=>{let[n,l]=e;return[n,l]}))):e,l,s)}},7639:(e,n,l)=>{l.d(n,{N:()=>d});var i=l(579),o=l(4765),a=l(9883),s=l(5334);const d=e=>{const{className:n,...l}=e,d=(0,a.$)();return(0,i.jsx)(s.B.hr,{"aria-orientation":"horizontal",className:(0,o.cx)("chakra-menu__divider",n),...l,__css:d.divider})};d.displayName="MenuDivider"}}]);
//# sourceMappingURL=2862.4c6c4a3a.chunk.js.map